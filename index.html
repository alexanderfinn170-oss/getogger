<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Live Dating Chat</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0b141a;
  color:white;
  height:100vh;
  display:flex;
  flex-direction:column;
}

/* FIXED HEADER */
.header{
  height:60px;
  background:#202c33;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  flex-shrink:0;
}

/* MESSAGE AREA ONLY SCROLLS */
.messages{
  flex:1;
  overflow-y:auto;
  padding:10px;
}

/* FIXED INPUT */
.inputBox{
  height:60px;
  background:#202c33;
  display:flex;
  align-items:center;
  padding:0 10px;
  flex-shrink:0;
}

.inputBox input{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:none;
}

.inputBox button{
  margin-left:5px;
  padding:10px 15px;
  border:none;
  border-radius:20px;
  background:#25d366;
  color:white;
}

.msg{
  display:flex;
  margin-bottom:12px;
  cursor:pointer;
}

.msg img{
  width:34px;
  height:34px;
  border-radius:50%;
  margin-right:8px;
}

.bubble{
  background:#202c33;
  padding:8px 12px;
  border-radius:12px;
  max-width:70%;
}

.me .bubble{
  background:#005c4b;
}

.name{
  font-size:12px;
  color:#53bdeb;
}

.online{
  font-size:10px;
  color:#25d366;
}

/* PRIVATE CHAT */
.privateBox{
  position:fixed;
  right:20px;
  bottom:20px;
  width:350px;
  height:500px;
  background:#111b21;
  display:none;
  flex-direction:column;
  border-radius:12px;
}

.privateHeader{
  background:#202c33;
  padding:10px;
  display:flex;
  align-items:center;
}

.privateHeader img{
  width:40px;
  height:40px;
  border-radius:50%;
  margin-right:8px;
}

.privateMessages{
  flex:1;
  overflow-y:auto;
  padding:10px;
}
</style>
</head>

<body>

<div class="header">üí¨ Live Dating Chat</div>

<div class="messages" id="groupMessages"></div>

<div class="inputBox">
<input id="groupInput" placeholder="Type message...">
<button onclick="sendGroup()">Send</button>
</div>

<!-- PRIVATE CHAT -->
<div class="privateBox" id="privateBox">
<div class="privateHeader">
<img id="privateImg">
<div>
<div id="privateName"></div>
<div class="online">‚óè Online</div>
</div>
</div>
<div class="privateMessages" id="privateMessages"></div>
<div class="inputBox">
<input id="privateInput" placeholder="Type message...">
<button onclick="sendPrivate()">Send</button>
</div>
</div>

<script>
const TOTAL_PROFILES=1200;
const PRELOAD_MESSAGES=150;

let names=[],profiles={};
let messagePool=[];
let messageIndex=0;
let activeProfile=null;
let replyCount=0;

let visitorName="Visitor"+Math.floor(Math.random()*9999);

/* Generate 1200 RandomUser profiles */
for(let i=1;i<=TOTAL_PROFILES;i++){
  let name="RandomUser"+i;
  names.push(name);
  profiles[name]={img:`https://i.pravatar.cc/50?img=${(i%70)+1}`};
}

/* Generate 3000+ Unique Dating Messages */
const topics=[
"Do you believe in true love?",
"What‚Äôs your ideal romantic date?",
"I love meaningful conversations.",
"What makes you feel special?",
"I enjoy deep emotional connection.",
"I‚Äôm looking for something serious.",
"What kind of partner do you prefer?",
"Do you like romantic surprises?",
"What makes you happy in a relationship?",
"I love late night talks."
];

for(let i=1;i<=3000;i++){
  let t=topics[Math.floor(Math.random()*topics.length)];
  messagePool.push(t+" üíï ("+i+")");
}

/* Smart unique message system */
function getUniqueMessage(){
  let msg=messagePool[messageIndex];
  messageIndex++;
  if(messageIndex>=messagePool.length){
    messageIndex=0;
    messagePool.sort(()=>Math.random()-0.5);
  }
  return msg;
}

/* Add message to group */
function addGroupMessage(name,text){
  let box=document.getElementById("groupMessages");
  box.insertAdjacentHTML("beforeend",`
    <div class="msg" onclick="openPrivate('${name}')">
      <img src="${profiles[name].img}">
      <div class="bubble">
        <div class="name">${name}</div>
        ${text}
      </div>
    </div>
  `);
  box.scrollTop=box.scrollHeight;
}

/* Preload 150 messages */
for(let i=0;i<PRELOAD_MESSAGES;i++){
  let name=names[Math.floor(Math.random()*names.length)];
  addGroupMessage(name,getUniqueMessage());
}

/* Live auto chat */
setInterval(()=>{
  let name=names[Math.floor(Math.random()*names.length)];
  addGroupMessage(name,getUniqueMessage());
},1500);

/* Send group message */
function sendGroup(){
  let input=document.getElementById("groupInput");
  if(!input.value.trim()) return;

  document.getElementById("groupMessages").insertAdjacentHTML("beforeend",`
    <div class="msg me">
      <div class="bubble">
        <div class="name">${visitorName}</div>
        ${input.value}
      </div>
    </div>
  `);
  input.value="";
}

/* Open private chat */
function openPrivate(name){
  activeProfile=name;
  replyCount=0;
  document.getElementById("privateBox").style.display="flex";
  document.getElementById("privateName").innerText=name;
  document.getElementById("privateImg").src=profiles[name].img;
  document.getElementById("privateMessages").innerHTML="";
}

/* Send private message */
function sendPrivate(){
  let input=document.getElementById("privateInput");
  if(!input.value.trim()) return;

  let box=document.getElementById("privateMessages");

  box.insertAdjacentHTML("beforeend",`
    <div class="msg me">
      <div class="bubble">
        <div class="name">${visitorName}</div>
        ${input.value}
      </div>
    </div>
  `);

  input.value="";
  box.scrollTop=box.scrollHeight;

  setTimeout(()=>{
    replyCount++;
    box.insertAdjacentHTML("beforeend",`
      <div class="msg">
        <img src="${profiles[activeProfile].img}">
        <div class="bubble">
          <div class="name">${activeProfile}</div>
          ${getUniqueMessage()}
        </div>
      </div>
    `);
    box.scrollTop=box.scrollHeight;
  },3000);
}
</script>

</body>
</html>
