<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Live Dating Room</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0b141a;
  color:white;
  height:100vh;
  display:flex;
  flex-direction:column;
}
.header{
  height:60px;
  background:#202c33;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  position:fixed;
  top:0;
  width:100%;
  z-index:100;
}
.messages{
  flex:1;
  overflow-y:auto;
  padding:70px 10px 80px 10px;
}
.inputBox{
  height:60px;
  background:#202c33;
  display:flex;
  align-items:center;
  padding:0 10px;
  position:fixed;
  bottom:0;
  width:100%;
}
.inputBox input{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:none;
}
.inputBox button{
  margin-left:5px;
  padding:10px 15px;
  border:none;
  border-radius:20px;
  background:#25d366;
  color:white;
  cursor:pointer;
}
.msg{
  display:flex;
  margin-bottom:12px;
  cursor:pointer;
}
.msg img{
  width:34px;
  height:34px;
  border-radius:50%;
  margin-right:8px;
}
.bubble{
  background:#202c33;
  padding:8px 12px;
  border-radius:12px;
  max-width:75%;
}
.me{justify-content:flex-end;}
.me .bubble{background:#005c4b;}
.name{font-size:12px;color:#53bdeb;}
.online{font-size:10px;color:#25d366;}
.time{font-size:10px;opacity:.6;margin-top:4px;}
.privateBox{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:#111b21;display:none;flex-direction:column;z-index:999;
}
.privateHeader{
  height:60px;background:#202c33;display:flex;
  align-items:center;padding:0 10px;
}
.privateHeader img{
  width:40px;height:40px;border-radius:50%;margin-right:10px;
}
.closeBtn{margin-left:auto;font-size:22px;cursor:pointer;}
.privateMessages{
  flex:1;
  overflow-y:auto;
  padding:10px;
  padding-bottom:80px;
}
.typing{
  font-size:12px;
  opacity:.6;
  margin:5px 0;
}
</style>
</head>

<body>

<div class="header">üî• My Live Dating Room</div>
<div class="messages" id="groupMessages"></div>

<div class="inputBox">
<input id="groupInput" placeholder="Type message...">
<button onclick="sendGroup()">Send</button>
</div>

<div class="privateBox" id="privateBox">
<div class="privateHeader">
<img id="privateImg">
<div>
<div id="privateName"></div>
<div class="online">‚óè Online</div>
</div>
<div class="closeBtn" onclick="closePrivate()">√ó</div>
</div>
<div class="privateMessages" id="privateMessages"></div>
<div class="inputBox">
<input id="privateInput" placeholder="Type message...">
<button onclick="sendPrivate()">Send</button>
</div>
</div>

<script>

/* ======= GROUP SYSTEM UNCHANGED ======= */
const TOTAL_PROFILES=200;
let names=[],profiles={};

for(let i=1;i<=TOTAL_PROFILES;i++){
  let randomNumber=Math.floor(1000+Math.random()*9000);
  let name="RandomUser"+randomNumber;
  names.push(name);
  profiles[name]={
    img:`https://randomuser.me/api/portraits/women/${i%90}.jpg`
  };
}

/* ======= PRIVATE SYSTEM UPDATED ONLY ======= */

let activeProfile=null;
let visitorName="Visitor"+Math.floor(Math.random()*9999);
let privateStep=0;

const firstReplies=["Hello","Hi"];

const secondPool=[
"How are you? Are you happy in life? What did Siraj do today? What food do you love? Would you meet me for adult dating?",
"Tell me how you are feeling. Are you truly happy? What did Siraj plan today? What do you like to eat? Meet me?",
"Are you living peacefully? Is Siraj busy? Do you enjoy spicy food? Want to meet for adult dating?",
"Are you emotionally happy? What did Siraj say today? What is your favorite meal? See me?",
"Do you feel satisfied in life? Is Siraj working? What food makes you smile? Meet me privately?",
"Are you confident and happy? What did Siraj achieve? Do you love sweet dishes? Meet me?",
"How is your day going? Did Siraj call you? What do you enjoy eating? Adult date?",
"Are you single and happy? Is Siraj around? What cuisine do you prefer? Meet me?",
"Are you enjoying life? What is Siraj doing? Do you like seafood? See me?",
"Are you serious about dating? What did Siraj finish today? Favorite food? Meet me?",
"Do you feel lonely? Is Siraj home? Do you like biryani? Meet me?",
"Are you relaxed and happy? What did Siraj cook? Favorite snacks? Meet?",
"Are you strong mentally? Is Siraj okay? Do you love fast food? Meet?",
"Are you emotionally ready? What did Siraj buy? Like desserts? Meet me?",
"Are you satisfied with life? Siraj busy today? What do you enjoy eating? Meet?",
"Do you want serious dating? What did Siraj complete? Favorite dish? Meet?",
"Are you calm and happy? Is Siraj traveling? Like homemade food? Meet?",
"Are you confident in life? Siraj working hard? Love spicy curry? Meet?",
"Are you free tonight? What did Siraj plan? Favorite drink? Meet?",
"Are you looking for adult dating? Siraj okay? What food do you crave? Meet me?"
];

let usedSecondIndexes=[];

function openPrivate(name){
  activeProfile=name;
  privateStep=0;
  document.getElementById("privateBox").style.display="flex";
  document.getElementById("privateName").innerText=name;
  document.getElementById("privateImg").src=profiles[name].img;
  document.getElementById("privateMessages").innerHTML="";
}

function closePrivate(){
  document.getElementById("privateBox").style.display="none";
}

function getUniqueSecond(){
  if(usedSecondIndexes.length===secondPool.length){
    usedSecondIndexes=[];
  }
  let index;
  do{
    index=Math.floor(Math.random()*secondPool.length);
  }while(usedSecondIndexes.includes(index));
  usedSecondIndexes.push(index);
  return secondPool[index];
}

function sendPrivate(){
  let input=document.getElementById("privateInput");
  if(!input.value.trim()) return;

  let box=document.getElementById("privateMessages");

  box.insertAdjacentHTML("beforeend",`
    <div class="msg me">
      <div class="bubble">
        <div class="name">${visitorName}</div>
        ${input.value}
      </div>
    </div>
  `);

  input.value="";
  box.scrollTop=box.scrollHeight;

  if(privateStep>=2) return;

  setTimeout(()=>{

    let typing=document.createElement("div");
    typing.className="typing";
    typing.innerText=activeProfile+" is typing...";
    box.appendChild(typing);
    box.scrollTop=box.scrollHeight;

    setTimeout(()=>{

      typing.remove();

      let reply = privateStep===0 
        ? firstReplies[Math.floor(Math.random()*2)]
        : getUniqueSecond();

      box.insertAdjacentHTML("beforeend",`
        <div class="msg">
          <img src="${profiles[activeProfile].img}">
          <div class="bubble">
            <div class="name">${activeProfile}</div>
            ${reply}
          </div>
        </div>
      `);

      box.scrollTop=box.scrollHeight;
      privateStep++;

    },3000);

  },2000);
}

</script>

</body>
</html>
