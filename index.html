<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Live Dating Room</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0b141a;
  color:white;
  height:100vh;
  display:flex;
  flex-direction:column;
}

/* HEADER */
.header{
  height:60px;
  background:#202c33;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 15px;
  font-weight:bold;
  flex-shrink:0;
}

.stats{
  font-size:12px;
  text-align:right;
}

/* MESSAGE AREA */
.messages{
  flex:1;
  overflow-y:auto;
  padding:10px;
  scroll-behavior:smooth;
}

/* INPUT */
.inputBox{
  height:60px;
  background:#202c33;
  display:flex;
  align-items:center;
  padding:0 10px;
  flex-shrink:0;
}

.inputBox input{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:none;
}

.inputBox button{
  margin-left:5px;
  padding:10px 15px;
  border:none;
  border-radius:20px;
  background:#25d366;
  color:white;
  cursor:pointer;
}

.msg{
  display:flex;
  margin-bottom:12px;
  cursor:pointer;
}

.msg img{
  width:34px;
  height:34px;
  border-radius:50%;
  margin-right:8px;
}

.bubble{
  background:#202c33;
  padding:8px 12px;
  border-radius:12px;
  max-width:75%;
}

.me .bubble{
  background:#005c4b;
}

.name{
  font-size:12px;
  color:#53bdeb;
}

.online{
  font-size:10px;
  color:#25d366;
}

.time{
  font-size:10px;
  opacity:.6;
  margin-top:4px;
}

/* PRIVATE */
.privateBox{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:#111b21;
  display:none;
  flex-direction:column;
  z-index:999;
}

.privateHeader{
  height:60px;
  background:#202c33;
  display:flex;
  align-items:center;
  padding:0 10px;
}

.privateHeader img{
  width:40px;
  height:40px;
  border-radius:50%;
  margin-right:10px;
}

.closeBtn{
  margin-left:auto;
  font-size:22px;
  cursor:pointer;
}

.privateMessages{
  flex:1;
  overflow-y:auto;
  padding:10px;
  scroll-behavior:smooth;
}

.typing{
  font-size:12px;
  opacity:.6;
  margin:5px;
}

.soundBtn{
  position:fixed;
  bottom:80px;
  right:15px;
  background:#25d366;
  padding:12px;
  border-radius:50%;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="header">
  <div>üî• My Live Dating Room</div>
  <div class="stats">
    üü¢ Online Now: <span id="onlineCount"></span><br>
    üëÄ Visitors Today: <span id="visitorCount"></span>
  </div>
</div>

<div class="messages" id="groupMessages"></div>

<div class="inputBox">
<input id="groupInput" placeholder="Type message...">
<button onclick="sendGroup()">Send</button>
</div>

<div class="soundBtn" onclick="toggleSound()">üîä</div>

<audio id="msgSound" src="https://assets.mixkit.co/sfx/preview/mixkit-message-pop-alert-2354.mp3"></audio>

<!-- PRIVATE -->
<div class="privateBox" id="privateBox">
<div class="privateHeader">
<img id="privateImg">
<div>
<div id="privateName"></div>
<div class="online">‚óè Online</div>
</div>
<div class="closeBtn" onclick="closePrivate()">√ó</div>
</div>
<div class="privateMessages" id="privateMessages"></div>
<div class="inputBox">
<input id="privateInput" placeholder="Type message...">
<button onclick="sendPrivate()">Send</button>
</div>
</div>

<script>
const TOTAL_PROFILES=800;
const PRELOAD_MESSAGES=300;

let names=[],profiles={};
let messagePool=[];
let messageIndex=0;
let activeProfile=null;
let soundOn=true;

let visitorName="Visitor"+Math.floor(Math.random()*9999);

/* Demo counters */
document.getElementById("onlineCount").innerText=
  Math.floor(Math.random()*200)+120;

let visits=localStorage.getItem("visits")||0;
visits++;
localStorage.setItem("visits",visits);
document.getElementById("visitorCount").innerText=visits;

/* Female avatars */
for(let i=1;i<=TOTAL_PROFILES;i++){
  let name="RandomUser"+i;
  names.push(name);
  profiles[name]={
    img:`https://randomuser.me/api/portraits/women/${i%90}.jpg`
  };
}

/* Romantic pool */
const romanticLines=[
"Hey handsome, are you single?",
"I love confident men üòâ",
"Do you enjoy romantic nights?",
"I like playful flirting.",
"I enjoy deep connection.",
"Are you passionate?",
"I love slow romantic tension.",
"I enjoy mature conversations.",
"I like bold energy.",
"I love emotional bonding.",
"What excites you in love?",
"I enjoy private late night talks.",
"I like affectionate vibes.",
"I enjoy strong chemistry.",
"I love charming personalities.",
"I enjoy romantic attraction.",
"I like sensual vibes.",
"I enjoy exciting romance.",
"I love confident moves.",
"I enjoy emotional warmth."
];

for(let i=0;i<6000;i++){
  messagePool.push(
    romanticLines[Math.floor(Math.random()*romanticLines.length)]
  );
}

function getMessage(){
  let msg=messagePool[messageIndex];
  messageIndex++;
  if(messageIndex>=messagePool.length){
    messageIndex=0;
    messagePool.sort(()=>Math.random()-0.5);
  }
  return msg;
}

function contextualReply(text){
  text=text.toLowerCase();
  if(text.includes("love")) return "I enjoy talking about love too üíï";
  if(text.includes("kiss")) return "You sound romantic üòâ";
  if(text.includes("date")) return "What kind of date do you prefer?";
  return getMessage();
}

function getTime(){
  let d=new Date();
  return d.getHours().toString().padStart(2,"0")+":"+
         d.getMinutes().toString().padStart(2,"0");
}

function playSound(){
  if(soundOn){
    document.getElementById("msgSound").play();
  }
}

function toggleSound(){
  soundOn=!soundOn;
  document.querySelector(".soundBtn").innerText=soundOn?"üîä":"üîá";
}

function addGroup(name,text){
  let box=document.getElementById("groupMessages");
  box.insertAdjacentHTML("beforeend",`
    <div class="msg" onclick="openPrivate('${name}')">
      <img src="${profiles[name].img}">
      <div class="bubble">
        <div class="name">${name} <span class="online">‚óè Online</span></div>
        ${text}
        <div class="time">${getTime()}</div>
      </div>
    </div>
  `);
}

for(let i=0;i<PRELOAD_MESSAGES;i++){
  addGroup(names[Math.floor(Math.random()*names.length)],getMessage());
}

window.onload=()=>{
  let box=document.getElementById("groupMessages");
  box.scrollTop=box.scrollHeight;
}

setInterval(()=>{
  addGroup(names[Math.floor(Math.random()*names.length)],getMessage());
  let box=document.getElementById("groupMessages");
  box.scrollTop=box.scrollHeight;
  playSound();
},1500);

function sendGroup(){
  let input=document.getElementById("groupInput");
  if(!input.value.trim()) return;
  let box=document.getElementById("groupMessages");

  box.insertAdjacentHTML("beforeend",`
    <div class="msg me">
      <div class="bubble">
        <div class="name">${visitorName}</div>
        ${input.value}
        <div class="time">${getTime()}</div>
      </div>
    </div>
  `);

  input.value="";
  box.scrollTop=box.scrollHeight;
}

function openPrivate(name){
  activeProfile=name;
  document.getElementById("privateBox").style.display="flex";
  document.getElementById("privateName").innerText=name;
  document.getElementById("privateImg").src=profiles[name].img;
  document.getElementById("privateMessages").innerHTML="";
}

function closePrivate(){
  document.getElementById("privateBox").style.display="none";
}

function sendPrivate(){
  let input=document.getElementById("privateInput");
  if(!input.value.trim()) return;

  let box=document.getElementById("privateMessages");
  let userText=input.value;

  box.insertAdjacentHTML("beforeend",`
    <div class="msg me">
      <div class="bubble">
        <div class="name">${visitorName}</div>
        ${userText}
        <div class="time">${getTime()}</div>
      </div>
    </div>
  `);

  input.value="";
  box.scrollTop=box.scrollHeight;

  setTimeout(()=>{
    box.insertAdjacentHTML("beforeend",
      `<div class="typing">${activeProfile} is typing...</div>`
    );
    box.scrollTop=box.scrollHeight;

    setTimeout(()=>{
      document.querySelector(".typing")?.remove();
      box.insertAdjacentHTML("beforeend",`
        <div class="msg">
          <img src="${profiles[activeProfile].img}">
          <div class="bubble">
            <div class="name">${activeProfile}</div>
            ${contextualReply(userText)}
            <div class="time">${getTime()}</div>
          </div>
        </div>
      `);
      box.scrollTop=box.scrollHeight;
      playSound();
    },2000);

  },2000);
}
</script>

</body>
</html>
