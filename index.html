<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Live Dating Room</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0b141a;
  color:white;
  height:100vh;
  display:flex;
  flex-direction:column;
}

/* FIXED HEADER */
.header{
  height:60px;
  background:#202c33;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  flex-shrink:0;
}

/* SCROLLABLE MESSAGE AREA */
.messages{
  flex:1;
  overflow-y:auto;
  padding:10px;
}

/* FIXED INPUT */
.inputBox{
  height:60px;
  background:#202c33;
  display:flex;
  align-items:center;
  padding:0 10px;
  flex-shrink:0;
}

.inputBox input{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:none;
}

.inputBox button{
  margin-left:5px;
  padding:10px 15px;
  border:none;
  border-radius:20px;
  background:#25d366;
  color:white;
  cursor:pointer;
}

.msg{
  display:flex;
  margin-bottom:12px;
  cursor:pointer;
}

.msg img{
  width:34px;
  height:34px;
  border-radius:50%;
  margin-right:8px;
}

.bubble{
  background:#202c33;
  padding:8px 12px;
  border-radius:12px;
  max-width:75%;
}

.me .bubble{
  background:#005c4b;
}

.name{
  font-size:12px;
  color:#53bdeb;
}

.online{
  font-size:10px;
  color:#25d366;
}

/* PRIVATE CHAT FULL SCREEN */
.privateBox{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:#111b21;
  display:none;
  flex-direction:column;
  z-index:999;
}

.privateHeader{
  height:60px;
  background:#202c33;
  display:flex;
  align-items:center;
  padding:0 10px;
}

.privateHeader img{
  width:40px;
  height:40px;
  border-radius:50%;
  margin-right:10px;
}

.closeBtn{
  margin-left:auto;
  font-size:22px;
  cursor:pointer;
}

.privateMessages{
  flex:1;
  overflow-y:auto;
  padding:10px;
}
</style>
</head>

<body>

<div class="header">üî• My Dating Live Room</div>

<div class="messages" id="groupMessages"></div>

<div class="inputBox">
<input id="groupInput" placeholder="Type message...">
<button onclick="sendGroup()">Send</button>
</div>

<!-- PRIVATE CHAT -->
<div class="privateBox" id="privateBox">
<div class="privateHeader">
<img id="privateImg">
<div>
<div id="privateName"></div>
<div class="online">‚óè Online</div>
</div>
<div class="closeBtn" onclick="closePrivate()">√ó</div>
</div>
<div class="privateMessages" id="privateMessages"></div>
<div class="inputBox">
<input id="privateInput" placeholder="Type message...">
<button onclick="sendPrivate()">Send</button>
</div>
</div>

<script>
const TOTAL_PROFILES=1200;
const PRELOAD_MESSAGES=200;

let names=[],profiles={};
let messagePool=[];
let messageIndex=0;
let activeProfile=null;

let visitorName="Visitor"+Math.floor(Math.random()*9999);

/* Generate Profiles */
for(let i=1;i<=TOTAL_PROFILES;i++){
  let name="RandomUser"+i;
  names.push(name);
  profiles[name]={img:`https://i.pravatar.cc/50?img=${(i%70)+1}`};
}

/* Large Dating Message Pool */
const datingLines=[
"Hey, are you single?",
"I love confident people üòâ",
"Do you enjoy romantic nights?",
"I‚Äôm looking for something exciting.",
"Tell me what you like in a partner.",
"I enjoy deep connection and chemistry.",
"Do you like playful flirting?",
"I love passionate conversations.",
"Are you open minded?",
"I like bold personalities.",
"Let‚Äôs talk about fantasies üòè",
"I enjoy late night chats.",
"What makes you feel attracted?",
"I prefer honest and mature people.",
"I‚Äôm searching for real chemistry.",
"I love emotional bonding.",
"Do you like spontaneous dates?",
"I enjoy meaningful attraction.",
"I like people who take initiative.",
"What kind of relationship excites you?"
];

for(let i=0;i<5000;i++){
  messagePool.push(
    datingLines[Math.floor(Math.random()*datingLines.length)]
  );
}

/* Unique message system */
function getMessage(){
  let msg=messagePool[messageIndex];
  messageIndex++;
  if(messageIndex>=messagePool.length){
    messageIndex=0;
    messagePool.sort(()=>Math.random()-0.5);
  }
  return msg;
}

/* Add group message */
function addGroup(name,text){
  let box=document.getElementById("groupMessages");
  box.insertAdjacentHTML("beforeend",`
    <div class="msg" onclick="openPrivate('${name}')">
      <img src="${profiles[name].img}">
      <div class="bubble">
        <div class="name">${name} <span class="online">‚óè Online</span></div>
        ${text}
      </div>
    </div>
  `);
}

/* Preload old messages */
for(let i=0;i<PRELOAD_MESSAGES;i++){
  let name=names[Math.floor(Math.random()*names.length)];
  addGroup(name,getMessage());
}

/* Scroll to latest message on load */
window.onload=()=>{
  let box=document.getElementById("groupMessages");
  box.scrollTop=box.scrollHeight;
}

/* Live chat simulation */
setInterval(()=>{
  let name=names[Math.floor(Math.random()*names.length)];
  addGroup(name,getMessage());
  let box=document.getElementById("groupMessages");
  box.scrollTop=box.scrollHeight;
},1500);

/* Send group */
function sendGroup(){
  let input=document.getElementById("groupInput");
  if(!input.value.trim()) return;

  let box=document.getElementById("groupMessages");
  box.insertAdjacentHTML("beforeend",`
    <div class="msg me">
      <div class="bubble">
        <div class="name">${visitorName}</div>
        ${input.value}
      </div>
    </div>
  `);

  input.value="";
  box.scrollTop=box.scrollHeight;
}

/* Open private */
function openPrivate(name){
  activeProfile=name;
  document.getElementById("privateBox").style.display="flex";
  document.getElementById("privateName").innerText=name;
  document.getElementById("privateImg").src=profiles[name].img;
  document.getElementById("privateMessages").innerHTML="";
}

/* Close private */
function closePrivate(){
  document.getElementById("privateBox").style.display="none";
}

/* Send private */
function sendPrivate(){
  let input=document.getElementById("privateInput");
  if(!input.value.trim()) return;

  let box=document.getElementById("privateMessages");

  box.insertAdjacentHTML("beforeend",`
    <div class="msg me">
      <div class="bubble">
        <div class="name">${visitorName}</div>
        ${input.value}
      </div>
    </div>
  `);

  input.value="";
  box.scrollTop=box.scrollHeight;

  setTimeout(()=>{
    box.insertAdjacentHTML("beforeend",`
      <div class="msg">
        <img src="${profiles[activeProfile].img}">
        <div class="bubble">
          <div class="name">${activeProfile}</div>
          ${getMessage()}
        </div>
      </div>
    `);
    box.scrollTop=box.scrollHeight;
  },3000);
}
</script>

</body>
</html>
